## ğŸ“˜ M1.1 NumPy ndarray èˆ‡ Python list çš„å·®ç•°

æœ¬æ•™å­¸å°‡ä»‹ç´¹ NumPy çš„æ ¸å¿ƒæ•¸æ“šçµæ§‹ `ndarray` èˆ‡ Python å…§å»º `list` çš„é—œéµå·®ç•°ï¼Œ
ä¸¦èªªæ˜ç‚ºä½•åœ¨æ•¸æ“šåˆ†æå’Œç§‘å­¸è¨ˆç®—ä¸­ï¼ŒNumPy çš„ `ndarray` æ˜¯æ›´å¥½çš„é¸æ“‡ã€‚

### ğŸ¯ æ•™å­¸ç›®æ¨™

- ğŸ” äº†è§£ NumPy `ndarray` èˆ‡ Python `list` çš„å·®ç•°
- ğŸ“Œ å­¸æœƒé¸æ“‡é©ç•¶çš„è³‡æ–™çµæ§‹
- ğŸš€ æŒæ¡ `ndarray` åœ¨æ•ˆèƒ½èˆ‡åŠŸèƒ½ä¸Šçš„å„ªå‹¢

# %%
### ğŸ§° 1. ç’°å¢ƒè¨­ç½®èˆ‡å°å…¥å¿…è¦çš„å¥—ä»¶

# %%
**å­¸ç¿’è¦é»**ï¼š
- æŒæ¡ NumPy åŸºæœ¬å¥—ä»¶å°å…¥æ–¹å¼
- ç†Ÿæ‚‰è¨­å®šè¼¸å‡ºæ ¼å¼çš„å¸¸è¦‹é¸é …

**æ‡‰ç”¨å ´åŸŸ**ï¼š
- è³‡æ–™å‰è™•ç†æ™‚éœ€è¦æ§åˆ¶è¼¸å‡ºç²¾åº¦ï¼ˆå¦‚è²¡å‹™åˆ†æã€ç‰©ç†å¯¦é©—ï¼‰

# %%
import numpy as np
import time
import sys
np.set_printoptions(precision=3, suppress=True)

# %%
### ğŸ” 2. åŸºæœ¬æ¯”è¼ƒï¼šndarray vs list

# %%
**å­¸ç¿’è¦é»**ï¼š
- ç†è§£å…©è€…åœ¨è³‡æ–™çµæ§‹èˆ‡èªæ³•ä¸Šçš„åŸºæœ¬å·®ç•°
- èªè­˜ `type()` å°å‹åˆ¥çš„åˆ¤å®š

**æ‡‰ç”¨å ´åŸŸ**ï¼š
- æ•™å­¸èˆ‡åŸå‹è¨­è¨ˆä¸­é‡æ¸…çµæ§‹å·®ç•°
- ä½œç‚ºå¾ŒçºŒé¸æ“‡é©åˆè³‡æ–™çµæ§‹çš„åŸºç¤

# %%
py_list = [1, 2, 3, 4, 5]
np_array = np.array([1, 2, 3, 4, 5])

print(f"Python list: {py_list}, é¡å‹: {type(py_list)}")
print(f"NumPy array: {np_array}, é¡å‹: {type(np_array)}")

# %%
**è§£èªª**ï¼š
- Python `list` æ˜¯é€šç”¨å®¹å™¨ï¼Œå¯å„²å­˜å„ç¨®è³‡æ–™å‹åˆ¥
- NumPy `ndarray` ç‚ºåŒè³ªè³‡æ–™é™£åˆ—ï¼Œé©åˆæ•¸å€¼è¨ˆç®—

# %%
### ğŸ’¾ 3. è¨˜æ†¶é«”ä½”ç”¨æ¯”è¼ƒ

# %%
**å­¸ç¿’è¦é»**ï¼š
- ä½¿ç”¨ `sys.getsizeof` åˆ†æè¨˜æ†¶é«”ç”¨é‡
- æŒæ¡ `ndarray` åœ¨å¤§è³‡æ–™è™•ç†ä¸Šçš„è¨˜æ†¶é«”å„ªå‹¢

**æ‡‰ç”¨å ´åŸŸ**ï¼š
- å¤§æ•¸æ“šåˆ†æã€åµŒå…¥å¼ç³»çµ±éœ€åš´æ ¼ç®¡ç†è¨˜æ†¶é«”è³‡æºçš„å ´æ™¯

# %%
def get_size(obj):
    return sys.getsizeof(obj)

small_list = list(range(100))
small_array = np.arange(100)
medium_list = list(range(10000))
medium_array = np.arange(10000)
large_list = list(range(1000000))
large_array = np.arange(1000000)

print("å°å‹æ•¸æ“š (100 å…ƒç´ ):")
print(f"Python list: {get_size(small_list)} bytes")
print(f"NumPy array: {get_size(small_array)} bytes")

# %%
**è§£èªª**ï¼š
- Python `list` æ¯å€‹å…ƒç´ æœ‰é¡å¤–ç‰©ä»¶å°è£é–‹éŠ·
- `ndarray` ä½¿ç”¨é€£çºŒè¨˜æ†¶é«”å¡Šï¼Œæ•ˆç‡æ›´é«˜

# %%
### â±ï¸ 4. é‹ç®—é€Ÿåº¦æ¯”è¼ƒ

# %%
**å­¸ç¿’è¦é»**ï¼š
- æ¯”è¼ƒ `list comprehension` èˆ‡ NumPy å‘é‡åŒ–é€Ÿåº¦å·®ç•°
- å­¸ç¿’è¨ˆç®—åŸ·è¡Œæ™‚é–“çš„æ–¹å¼

**æ‡‰ç”¨å ´åŸŸ**ï¼š
- æ©Ÿå™¨å­¸ç¿’è³‡æ–™é è™•ç†ã€å³æ™‚åˆ†ææœå‹™éœ€å¼·èª¿æ•ˆç‡çš„å·¥ä½œæµ

# %%
n = 1000000
py_list = list(range(n))
np_array = np.arange(n)

start_time = time.time()
result_list = [x * 2 for x in py_list]
list_time = time.time() - start_time

start_time = time.time()
result_array = np_array * 2
array_time = time.time() - start_time

print(f"Python list é‹ç®—æ™‚é–“: {list_time:.6f} ç§’")
print(f"NumPy é‹ç®—æ™‚é–“: {array_time:.6f} ç§’")

# %%
**è§£èªª**ï¼š
- Python `list` ä½¿ç”¨è¿´åœˆ
- NumPy ä½¿ç”¨ C å¯¦ä½œçš„å‘é‡åŒ–é‹ç®—ï¼Œå¤§å¹…åŠ é€Ÿ

# %%
### ğŸ“ 5. å¤šç¶­æ•¸æ“šè™•ç†æ¯”è¼ƒ

# %%
**å­¸ç¿’è¦é»**ï¼š
- å»ºç«‹èˆ‡æ“ä½œ 2D é™£åˆ—çš„åŸºç¤èƒ½åŠ›
- ç†è§£ `.shape`, `.ndim` ç­‰å¸¸è¦‹å±¬æ€§

**æ‡‰ç”¨å ´åŸŸ**ï¼š
- å½±åƒè™•ç†ã€çŸ©é™£æ¼”ç®—ï¼ˆå¦‚ç·šæ€§ä»£æ•¸ã€CNNï¼‰

# %%
list_2d = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
array_2d = np.array(list_2d)

print(array_2d)
print(array_2d.shape)
print(array_2d.ndim)

# %%
**è§£èªª**ï¼š
- Python å·¢ç‹€ `list` ç¼ºä¹çµ±ä¸€ç¶­åº¦çµæ§‹
- NumPy é™£åˆ—å…·å‚™æ˜ç¢ºç¶­åº¦èˆ‡å½¢ç‹€ï¼Œæœ‰åŠ©æ–¼æ•¸æ“šæ“ä½œ

# %%
### â• 6. æ•¸å­¸é‹ç®—æ¯”è¼ƒ

# %%
**å­¸ç¿’è¦é»**ï¼š
- ç†Ÿæ‚‰å‘é‡åŒ–é‹ç®—èˆ‡ dot product çš„åŸºç¤
- æŒæ¡åŸºæœ¬æ•¸å­¸æ“ä½œèˆ‡èªæ³•

**æ‡‰ç”¨å ´åŸŸ**ï¼š
- è²¡å‹™æ¨¡å‹ã€æ©Ÿå™¨å­¸ç¿’ç‰¹å¾µè½‰æ›ã€ç§‘å­¸è¨ˆç®—

# %%
list_a = [1, 2, 3, 4]
list_b = [5, 6, 7, 8]
list_sum = [a + b for a, b in zip(list_a, list_b)]

array_a = np.array(list_a)
array_b = np.array(list_b)
array_sum = array_a + array_b

print(array_sum)
print(array_a * array_b)
print(array_a ** 2)
print(np.dot(array_a, array_b))

# %%
**è§£èªª**ï¼š
- Python `list` é‹ç®—éœ€æ­é… zip èˆ‡ comprehension
- NumPy æ”¯æ´å‘é‡åŒ–èˆ‡çŸ©é™£ä¹˜æ³•

# %%
### ğŸ§¬ 7. è³‡æ–™é¡å‹ä¸€è‡´æ€§æ¯”è¼ƒ

# %%
**å­¸ç¿’è¦é»**ï¼š
- è§€å¯Ÿ Python `list` èˆ‡ NumPy é™£åˆ—çš„å‹åˆ¥ç®¡ç†æ–¹å¼
- èªè­˜ NumPy çš„å‹åˆ¥è‡ªå‹•æå‡æ©Ÿåˆ¶ï¼ˆtype promotionï¼‰

**æ‡‰ç”¨å ´åŸŸ**ï¼š
- çµæ§‹åŒ–æ•¸æ“šè™•ç†ã€é¿å…è³‡æ–™é¡å‹éŒ¯èª¤å°è‡´çš„æ¨¡å‹å¤±æ•ˆ

# %%
mixed_list = [1, 'hello', 3.14, True]
mixed_array = np.array(mixed_list)

print(mixed_array)
print(mixed_array.dtype)

num_array = np.array([1, 2.5, 3, 4.8])
print(num_array)
print(num_array.dtype)

# %%
**è§£èªª**ï¼š
- `list` å¯æ··åˆé¡å‹ï¼Œå½ˆæ€§é«˜ä½†æ•ˆç‡ä½
- `ndarray` å¼·åˆ¶åŒå‹åˆ¥ï¼Œæå‡è¨ˆç®—ä¸€è‡´æ€§èˆ‡æ•ˆç‡

# %%
### ğŸ› ï¸ 8. åŠŸèƒ½æ–¹æ³•æ¯”è¼ƒ

# %%
**å­¸ç¿’è¦é»**ï¼š
- ç†Ÿæ‚‰ NumPy æä¾›çš„çµ±è¨ˆèˆ‡æ’åºæ–¹æ³•
- ç†è§£åŸåœ°æ“ä½œèˆ‡éåŸåœ°æ“ä½œçš„å·®ç•°

**æ‡‰ç”¨å ´åŸŸ**ï¼š
- è³‡æ–™æ¢ç´¢æ€§åˆ†æï¼ˆEDAï¼‰ã€ç‰¹å¾µå·¥ç¨‹å‰çš„æ‘˜è¦çµ±è¨ˆ

# %%
py_list = [3, 1, 4, 1, 5, 9, 2, 6]
np_array = np.array(py_list)

print(len(np_array))
print(np_array.max())
print(np_array.sum())
print(np.median(np_array))
print(np.sort(np_array))

# %%
**è§£èªª**ï¼š
- NumPy æä¾›å¤§é‡å…§å»ºæ–¹æ³•ï¼Œæ”¯æ´çµ±è¨ˆã€æ’åºã€çŸ©é™£æ“ä½œ
- ç›¸è¼ƒä¹‹ä¸‹ï¼ŒPython `list` éœ€è¦å¤–éƒ¨å‡½æ•¸æˆ–æ‰‹å‹•è™•ç†

# %%
### ğŸ§¾ 9. ç¸½çµï¼šNumPy ndarray vs Python list

# %%
**å­¸ç¿’è¦é»**ï¼š
- ç¸½çµé©ç”¨å ´æ™¯èˆ‡è¨­è¨ˆé¸æ“‡çš„ä¾æ“š
- é¤Šæˆæ ¹æ“šä»»å‹™ç›®æ¨™é¸ç”¨é©ç•¶è³‡æ–™çµæ§‹çš„èƒ½åŠ›

**æ‡‰ç”¨å ´åŸŸ**ï¼š
- å»ºç«‹è™•ç†æµç¨‹æ™‚çš„è³‡æ–™æ¶æ§‹é¸å‹
- ä½œç‚ºè·¨æ¨¡çµ„åœ˜éšŠå…±ç”¨è³‡æ–™æ™‚çš„è¦æ ¼ä¾æ“š

#### âœ… NumPy `ndarray` å„ªé»ï¼š
- é«˜æ•ˆèƒ½èˆ‡è¨˜æ†¶é«”ä½¿ç”¨
- æ”¯æ´å‘é‡åŒ–ã€çŸ©é™£æ“ä½œã€ç§‘å­¸å‡½æ•¸
- é©åˆå¤§å‹è³‡æ–™èˆ‡å¤šç¶­é‹ç®—

#### â˜‘ï¸ é©ç”¨å ´æ™¯ï¼š
- æ©Ÿå™¨å­¸ç¿’ã€è³‡æ–™åˆ†æã€æ•¸å€¼æ¨¡æ“¬
- ç§‘å­¸è¨ˆç®—ã€å·¥ç¨‹æ¨¡æ“¬

#### ğŸ” ä½¿ç”¨ `list` çš„æƒ…å¢ƒï¼š
- ç•¶è³‡æ–™å‹åˆ¥ä¸ä¸€è‡´
- é ˆå‹•æ…‹å¢æ¸›å…ƒç´ 
- å°å‹ã€éæ•¸å€¼å°å‘çš„è³‡æ–™è™•ç†
